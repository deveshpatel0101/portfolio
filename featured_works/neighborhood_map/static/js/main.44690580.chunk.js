(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n(359)},150:function(e,t,n){},152:function(e,t,n){},154:function(e,t,n){},355:function(e,t,n){},357:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(60),s=n.n(i),c=(n(150),n(15)),o=n(16),l=n(18),u=n(17),p=n(19),d=n(1),h=(n(152),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleOpen=n.handleOpen.bind(Object(d.a)(Object(d.a)(n))),n.handleClose=n.handleClose.bind(Object(d.a)(Object(d.a)(n))),n.handleChange=n.handleChange.bind(Object(d.a)(Object(d.a)(n))),n.handleListClick=n.handleListClick.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleOpen",value:function(){document.getElementById("side-menu").style.width="300px"}},{key:"handleClose",value:function(){document.getElementById("side-menu").style.width="0"}},{key:"handleChange",value:function(e){this.props.newQuery(e.target.value,!1)}},{key:"handleListClick",value:function(e){this.props.newQuery(e.target.id,!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"header",id:"header",role:"navigation"},r.a.createElement("nav",null,r.a.createElement("span",null,r.a.createElement("span",{onClick:this.handleOpen,tabIndex:"0",className:"menu-open-icon"},r.a.createElement("svg",{width:"30",height:"30"},r.a.createElement("path",{d:"M0,5 30,5",stroke:"#c2c2c2",strokeWidth:"5"}),r.a.createElement("path",{d:"M0,14 30,14",stroke:"#c2c2c2",strokeWidth:"5"}),r.a.createElement("path",{d:"M0,23 30,23",stroke:"#c2c2c2",strokeWidth:"5"}))))),r.a.createElement("div",{className:"api-used"},r.a.createElement("a",{href:"https://foursquare.com",target:"_blank"},"Foursquare API used."))),r.a.createElement("div",{id:"side-menu",className:"side-nav"},r.a.createElement("span",{onClick:this.handleClose,className:"close"},"\xd7"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"filter",onChange:this.handleChange,placeholder:"Search/Filter"})),r.a.createElement("div",{className:"content"},""!==this.props.query?this.props.query.map(function(t){return r.a.createElement("span",{className:"content-text",id:t.id,key:t.id,onClick:e.handleListClick},t.name)}):this.props.markers.map(function(t){return r.a.createElement("span",{className:"content-text",id:t.id,key:t.id,onClick:e.handleListClick},t.name)}))))}}]),t}(r.a.Component)),m=(n(154),n(27)),k=(n(355),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!1,animation:!1,count:0},n.onToggleOpen=n.onToggleOpen.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"onToggleOpen",value:function(){this.props.updateOpenedMarker(this.props.id),this.setState(function(e){return{isOpen:!e.isOpen}})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.click&&!this.state.animation&&(this.props.updateOpenedMarker(this.props.id),this.setState(function(){return{animation:!0,isOpen:!0}}),setTimeout(function(){e.setState(function(){return{animation:!1}})},1500)),this.props.opened!==this.props.id&&this.state.isOpen&&this.setState(function(){return{isOpen:!1}})}},{key:"render",value:function(){return r.a.createElement(m.Marker,{position:{lat:this.props.lat,lng:this.props.lng},onClick:this.onToggleOpen,animation:!!this.props.click&&window.google.maps.Animation.BOUNCE,onAnimationChanged:this.handleAnimation},this.state.isOpen&&this.props.opened===this.props.id?r.a.createElement(m.InfoWindow,{onCloseClick:this.onToggleOpen},r.a.createElement("div",null,this.props.category?r.a.createElement("div",null,r.a.createElement("b",null,"Category: "),this.props.category.name):null,this.props.name?r.a.createElement("div",null,r.a.createElement("b",null,"Name: "),this.props.name):null,this.props.address?r.a.createElement("div",null,r.a.createElement("b",null,"Address: "),this.props.address):null)):null)}}]),t}(r.a.Component)),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={lat:n.props.lat,lng:n.props.lng,openedMarker:null},n.updateOpenedMarker=n.updateOpenedMarker.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"updateOpenedMarker",value:function(e){this.setState(function(){return{openedMarker:e}})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.lat!==this.state.lat&&this.props.lng!==this.state.lng&&this.setState(function(){return{lat:e.props.lat,lng:e.props.lng}})}},{key:"render",value:function(){var e=this;return r.a.createElement(m.GoogleMap,{defaultZoom:15,defaultCenter:{lat:this.props.lat,lng:this.props.lng},center:{lat:this.state.lat,lng:this.state.lng},options:{gestureHandling:"greedy"}},""!==this.props.query?this.props.query.map(function(t){return r.a.createElement(k,Object.assign({},t,{key:t.id,opened:e.state.openedMarker,updateOpenedMarker:e.updateOpenedMarker,click:e.props.click===t.id}))}):this.props.markers.map(function(t){return r.a.createElement(k,Object.assign({},t,{key:t.id,opened:e.state.openedMarker,updateOpenedMarker:e.updateOpenedMarker,click:e.props.click===t.id}))}))}}]),t}(r.a.Component),f=Object(m.withScriptjs)(Object(m.withGoogleMap)(g)),O={clientId:"Q2CRHX3WMPYVVLYAKGUCV1I52FTWGIELKHJM3CPTGRU141OA",clientSecret:"QWDSGVDZ3S4XRAUTE3YYBRE1JY0GQQ155Y4BSSGMUBTUDIMF",MapsAPI:"AIzaSyC0ovwQiwdWp5hiWYzMdPXNImGOHe0jYvg"},v="https://maps.googleapis.com/maps/api/js?key=".concat(O.MapsAPI,"&v=3.exp&libraries=geometry,drawing,places"),y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"map",id:"map",role:"application"},r.a.createElement(f,{googleMapURL:v,loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"92vh"}}),query:this.props.query,markers:this.props.markers,lat:this.props.lat,lng:this.props.lng,click:this.props.click}))}}]),t}(r.a.Component),b=[],E=0,j=function(e,t){var n="https://api.foursquare.com/v2/venues/search?client_id=".concat(O.clientId,"&client_secret=").concat(O.clientSecret,"&ll=").concat(e,",").concat(t,"&v=20180101");return fetch(n).then(function(e){return e.json().then(function(e){return e})}).then(function(e){return e.response.venues}).then(function(e){return b=(b=e.slice(0,15)).map(function(e){return{id:e.id,name:e.name,address:e.location.address,lat:e.location.lat,lng:e.location.lng,category:e.categories[0]}}),localStorage.setItem("markers",JSON.stringify(b)),b}).catch(function(e){return console.log(e),1===++E&&alert("Seems like you are offline. Please make sure you have internet connection."),b=localStorage.getItem("markers"),(b=JSON.parse(b))||[]})},C=n(144),M=n.n(C),S=(n(357),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={query:"",markers:[],lat:22.551263,lng:72.971814,length:!1,click:!1},n.newQuery=n.newQuery.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){j(t.coords.latitude,t.coords.longitude).then(function(n){e.setState(function(){return{markers:n,lat:t.coords.latitude,lng:t.coords.longitude}})})})}},{key:"componentDidMount",value:function(){var e=this;j(this.state.lat,this.state.lng).then(function(t){t&&e.setState(function(){return{markers:t}})})}},{key:"newQuery",value:function(e,t){var n=this;if(t)this.setState(function(){return{click:e}}),setTimeout(function(){n.setState(function(){return{click:!1}})},1500);else{var a=M()(this.state.markers,"name")(e);t||this.setState(function(){return{query:a,click:!1}})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,{newQuery:this.newQuery,markers:this.state.markers,query:this.state.query}),r.a.createElement(y,{query:this.state.query,lat:this.state.lat,lng:this.state.lng,markers:this.state.markers,click:this.state.click}))}}]),t}(a.Component));s.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[145,2,1]]]);
//# sourceMappingURL=main.44690580.chunk.js.map