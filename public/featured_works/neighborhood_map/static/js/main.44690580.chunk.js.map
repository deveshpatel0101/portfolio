{"version":3,"sources":["components/Header/Header.js","components/DisplayMarker/DisplayMarker.js","components/Marker/Marker.js","secrets.js","components/Map/Map.js","controllers/markers.js","App.js","index.js"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOpen","bind","assertThisInitialized","handleClose","handleChange","handleListClick","document","getElementById","style","width","e","newQuery","target","value","id","_this2","react_default","a","createElement","className","role","onClick","tabIndex","height","d","stroke","strokeWidth","href","type","name","onChange","placeholder","query","map","marker","key","markers","React","Component","DisplayMarker","state","isOpen","animation","count","onToggleOpen","updateOpenedMarker","setState","prevState","click","setTimeout","opened","lib","position","lat","lng","window","google","maps","Animation","BOUNCE","onAnimationChanged","handleAnimation","onCloseClick","category","address","MapWithMarker","openedMarker","_this3","defaultZoom","defaultCenter","center","options","gestureHandling","components_DisplayMarker_DisplayMarker","assign","withScriptjs","withGoogleMap","secrets","clientId","clientSecret","MapsAPI","url","concat","Map","Marker","googleMapURL","loadingElement","containerElement","mapElement","alertCount","get","fetch","then","res","json","data","response","venues","slice","place","location","categories","localStorage","setItem","JSON","stringify","catch","err","console","log","alert","getItem","parse","App","length","that","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","results","filter","filterSearch","components_Header_Header","components_Map_Map","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.44690580.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleListClick = this.handleListClick.bind(this);\r\n  }\r\n\r\n  handleOpen() {\r\n    document.getElementById('side-menu').style.width = '300px';\r\n  }\r\n\r\n  handleClose() {\r\n    document.getElementById('side-menu').style.width = '0';\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.props.newQuery(e.target.value, false);\r\n  }\r\n\r\n  handleListClick(e) {\r\n    this.props.newQuery(e.target.id, true);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='header' id='header' role='navigation'>\r\n          <nav>\r\n            <span>\r\n              <span onClick={this.handleOpen} tabIndex='0' className='menu-open-icon'>\r\n                <svg width='30' height='30'>\r\n                  <path d='M0,5 30,5' stroke='#c2c2c2' strokeWidth='5' />\r\n                  <path d='M0,14 30,14' stroke='#c2c2c2' strokeWidth='5' />\r\n                  <path d='M0,23 30,23' stroke='#c2c2c2' strokeWidth='5' />\r\n                </svg>\r\n              </span>\r\n            </span>\r\n          </nav>\r\n          <div className='api-used'>\r\n            <a href='https://foursquare.com' target='_blank'>Foursquare API used.</a>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div id='side-menu' className='side-nav'>\r\n          <span onClick={this.handleClose} className='close'>&times;</span>\r\n          <form>\r\n            <input type='text' name='filter' onChange={this.handleChange} placeholder='Search/Filter' />\r\n          </form>\r\n          <div className='content'>\r\n            {\r\n              this.props.query !== '' ?\r\n                (this.props.query.map(marker =>\r\n                  (<span className='content-text' id={marker.id} key={marker.id} onClick={this.handleListClick}>{marker.name}</span>)\r\n                )) :\r\n                this.props.markers.map(marker =>\r\n                  (<span className='content-text' id={marker.id} key={marker.id} onClick={this.handleListClick}>{marker.name}</span>)\r\n                )\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { InfoWindow, Marker } from 'react-google-maps';\r\nimport './DisplayMarker.css';\r\n\r\nclass DisplayMarker extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n      animation: false,\r\n      count: 0\r\n    }\r\n    this.onToggleOpen = this.onToggleOpen.bind(this);\r\n  }\r\n\r\n  onToggleOpen() {\r\n    this.props.updateOpenedMarker(this.props.id);\r\n    this.setState((prevState) => ({ isOpen: !(prevState.isOpen) }));\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.click && !this.state.animation) {\r\n      this.props.updateOpenedMarker(this.props.id);\r\n      this.setState(() => ({ animation: true, isOpen: true }));\r\n      setTimeout(() => {\r\n        this.setState(() => ({ animation: false }))\r\n      }, 1500);\r\n    }\r\n    if (this.props.opened !== this.props.id && this.state.isOpen) {\r\n      this.setState(() => ({ isOpen: false }))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Marker\r\n        position={{ lat: this.props.lat, lng: this.props.lng }}\r\n        onClick={this.onToggleOpen}\r\n        animation={this.props.click ? window.google.maps.Animation.BOUNCE : false}\r\n        onAnimationChanged={this.handleAnimation}\r\n      >\r\n        {(this.state.isOpen && this.props.opened === this.props.id) ?\r\n          <InfoWindow onCloseClick={this.onToggleOpen}>\r\n            <div>\r\n              {this.props.category ?\r\n                <div><b>Category: </b>{this.props.category.name}</div> :\r\n                null}\r\n              {this.props.name ?\r\n                <div><b>Name: </b>{this.props.name}</div> :\r\n                null\r\n              }\r\n              {this.props.address ?\r\n                <div>\r\n                  <b>Address: </b>\r\n                  {this.props.address}\r\n                </div> :\r\n                null}\r\n            </div>\r\n          </InfoWindow> :\r\n          null\r\n        }\r\n      </Marker>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DisplayMarker;","import React from 'react';\r\nimport { withScriptjs, withGoogleMap, GoogleMap } from \"react-google-maps\";\r\nimport DisplayMarker from '../DisplayMarker/DisplayMarker';\r\n\r\nclass MapWithMarker extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lat: this.props.lat,\r\n      lng: this.props.lng,\r\n      openedMarker: null\r\n    }\r\n    this.updateOpenedMarker = this.updateOpenedMarker.bind(this);\r\n  }\r\n\r\n\tupdateOpenedMarker(id) {\r\n\t\tthis.setState(() => ({ openedMarker: id }));\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if(this.props.lat !== this.state.lat && this.props.lng !== this.state.lng) {\r\n      this.setState(() => ({lat: this.props.lat, lng: this.props.lng}))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <GoogleMap\r\n        defaultZoom={15}\r\n        defaultCenter={{ lat: this.props.lat, lng: this.props.lng }}\r\n        center={{ lat: this.state.lat, lng: this.state.lng }}\r\n        options={{gestureHandling: 'greedy'}}\r\n      >\r\n        {\r\n          this.props.query !== '' ?\r\n            (this.props.query.map(marker => (\r\n              <DisplayMarker\r\n                {...marker}\r\n                key={marker.id}\r\n                opened={this.state.openedMarker}\r\n                updateOpenedMarker={this.updateOpenedMarker}\r\n                click={this.props.click === marker.id ? true : false}\r\n              />\r\n            ))) :\r\n            this.props.markers.map(marker => (\r\n              <DisplayMarker\r\n                {...marker}\r\n                key={marker.id}\r\n                opened={this.state.openedMarker}\r\n                updateOpenedMarker={this.updateOpenedMarker}\r\n                click={this.props.click === marker.id ? true : false}\r\n              />\r\n            ))}\r\n      </GoogleMap>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withScriptjs(withGoogleMap(MapWithMarker));","let secrets =  {\r\n    clientId: \"Q2CRHX3WMPYVVLYAKGUCV1I52FTWGIELKHJM3CPTGRU141OA\",\r\n    clientSecret: \"QWDSGVDZ3S4XRAUTE3YYBRE1JY0GQQ155Y4BSSGMUBTUDIMF\",\r\n    MapsAPI: \"AIzaSyC0ovwQiwdWp5hiWYzMdPXNImGOHe0jYvg\"\r\n}\r\n\r\nexport default secrets;","import React from 'react';\r\nimport './Map.css';\r\nimport MapWithMarker from '../Marker/Marker';\r\nimport secrets from '../../secrets';\r\n\r\nconst url = `https://maps.googleapis.com/maps/api/js?key=${secrets.MapsAPI}&v=3.exp&libraries=geometry,drawing,places`\r\n\r\nclass Map extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className='map' id='map' role='application'>\r\n        <MapWithMarker\r\n          googleMapURL={url}\r\n          loadingElement={<div style={{ height: `100%` }} />}\r\n          containerElement={<div style={{ height: `400px` }} />}\r\n          mapElement={<div style={{ height: `92vh` }} />}\r\n          query={this.props.query}\r\n          markers={this.props.markers}\r\n          lat={this.props.lat}\r\n          lng={this.props.lng}\r\n          click={this.props.click}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Map;","import secrets from '../../src/secrets';\r\nlet markers = [],\r\n    alertCount = 0;\r\n\r\nexport const get = (lat, lng) => {\r\n    let url = `https://api.foursquare.com/v2/venues/search?client_id=${secrets.clientId}&client_secret=${secrets.clientSecret}&ll=${lat},${lng}&v=20180101`;\r\n\r\n    return fetch(url).then((res) => {\r\n        return res.json().then(data => {\r\n            return data;\r\n        });\r\n    }).then(res => {\r\n        return res.response.venues;\r\n    }).then(data => {\r\n        markers = data.slice(0, 15);\r\n        markers = markers.map(place => {\r\n            return {\r\n                id: place.id,\r\n                name: place.name,\r\n                address: place.location.address,\r\n                lat: place.location.lat,\r\n                lng: place.location.lng,\r\n                category: place.categories[0]\r\n            }\r\n        });\r\n        localStorage.setItem('markers', JSON.stringify(markers));\r\n        return markers;\r\n    }).catch(err => {\r\n        console.log(err);\r\n        alertCount++;\r\n        if (alertCount === 1)\r\n            alert('Seems like you are offline. Please make sure you have internet connection.');\r\n        markers = localStorage.getItem('markers');\r\n        markers = JSON.parse(markers);\r\n        if (markers) {\r\n            return markers;\r\n        } else {\r\n            return [];\r\n        }\r\n    });\r\n}","import React, { Component } from 'react';\nimport Header from './components/Header/Header';\nimport Map from './components/Map/Map';\nimport { get } from './controllers/markers';\nimport filter from 'simple-text-search';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      markers: [],\n      lat: 22.551263,\n      lng: 72.971814,\n      length: false,\n      click: false\n    }\n    this.newQuery = this.newQuery.bind(this);\n  }\n\n  componentWillMount() {\n    let that = this;\n    if (navigator.geolocation) { //for displaying markers nearby your current location.\n      navigator.geolocation.getCurrentPosition(function (position) {\n        get(position.coords.latitude, position.coords.longitude).then(response => {\n          that.setState(() => ({ markers: response, lat: position.coords.latitude, lng: position.coords.longitude }));\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    get(this.state.lat, this.state.lng).then(response => {\n      if (response) {\n        this.setState(() => ({ markers: response }));\n      }\n    });\n  }\n\n  newQuery(query, click) { //will be called when filter is applied\n    if (!click) {\n      let filterSearch = filter(this.state.markers, 'name');\n      let results = filterSearch(query);\n      if (!click) this.setState(() => ({ query: results, click: false }));\n    } else {\n      this.setState(() => ({ click: query }));\n      setTimeout(() => {\n        this.setState(() => ({ click: false }));\n      }, 1500);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header\n          newQuery={this.newQuery}\n          markers={this.state.markers}\n          query={this.state.query}\n        />\n        <Map\n          query={this.state.query}\n          lat={this.state.lat}\n          lng={this.state.lng}\n          markers={this.state.markers}\n          click={this.state.click}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// if('serviceWorker' in navigator) {\r\n//   navigator.serviceWorker.register('/sw.js').then(() => {\r\n//   });\r\n// }\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}